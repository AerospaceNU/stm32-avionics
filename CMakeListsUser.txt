if (CMAKE_BUILD_TYPE MATCHES "desktop")
    message("\nBuilding WITHOUT platformIO\n")

    # Set versions ourselves
    SET(CMAKE_C_STANDARD 11)
    set(CMAKE_CXX_STANDARD 20)
    set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

    # Include desktop projects
    add_subdirectory(common)
    add_subdirectory(desktop_projects)
    add_subdirectory(desktop_ui)

    set(SRC_LIST ${CMAKE_CURRENT_SOURCE_DIR}/platformio_dummy.c)
else()
    # Normal platformIO things happen here. Not sure why they're needed tho? Are they? I don't think they are, but idk
    set(CMAKE_SYSTEM_NAME Generic)
    set(CMAKE_C_COMPILER_WORKS 1)
    set(CMAKE_CXX_COMPILER_WORKS 1)
endif ()
